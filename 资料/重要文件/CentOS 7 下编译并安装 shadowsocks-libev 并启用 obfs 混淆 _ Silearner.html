<!DOCTYPE html>
<!-- saved from url=(0062)https://blog.chaos.run/dreams/centos-build-ss-libev/index.html -->
<html lang="en" itemscope="" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="generator" content="Hexo 3.9.0"><script type="text/javascript" async="" src="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/analytics.js.下载"></script><script async="" src="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/js"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-73408468-1")</script><script>function inIframe(){try{return window.self!==window.top}catch(n){return!0}}inIframe()&&(document.domain="chaos.run")</script><meta name="theme-color" content="#5b7a7f"><link rel="icon" sizes="192x192" href="https://blog.chaos.run/mobile-device/nice-highres.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta id="apple-homescreentitle" name="apple-mobile-web-app-title" content="CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 | Silearner"><link rel="apple-touch-icon" sizes="180x180" href="https://blog.chaos.run/mobile-device/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="120x120" href="https://blog.chaos.run/mobile-device/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="152x152" href="https://blog.chaos.run/mobile-device/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="76x76" href="https://blog.chaos.run/mobile-device/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="167x167" href="https://blog.chaos.run/mobile-device/apple-touch-icon-167x167.png"><title>CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 | Silearner</title><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="本文以 Vultr 购买的 CentOS 7 主机为例，详细介绍了编译并部署 shadowsocks-libev的方法，并分别说明了不使用 obfs 和使用 obfs 混淆的安装配置方法。建议以密钥的方式绑定主机并以此登录，注意保护好自己的密钥。注：示例命令均是在 root 用户下执行的。  准备工作 首先，更新系统： 1yum update 为了防止被人暴力扫描破解登录密码，我们先对 Vultr"><meta name="keywords" content="linux,centos,shadowsocks"><meta property="og:type" content="article"><meta property="og:title" content="CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆"><meta property="og:url" content="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html"><meta property="og:site_name" content="Silearner"><meta property="og:description" content="本文以 Vultr 购买的 CentOS 7 主机为例，详细介绍了编译并部署 shadowsocks-libev的方法，并分别说明了不使用 obfs 和使用 obfs 混淆的安装配置方法。建议以密钥的方式绑定主机并以此登录，注意保护好自己的密钥。注：示例命令均是在 root 用户下执行的。  准备工作 首先，更新系统： 1yum update 为了防止被人暴力扫描破解登录密码，我们先对 Vultr"><meta property="og:locale" content="default"><meta property="og:updated_time" content="2019-04-12T08:44:11.499Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆"><meta name="twitter:description" content="本文以 Vultr 购买的 CentOS 7 主机为例，详细介绍了编译并部署 shadowsocks-libev的方法，并分别说明了不使用 obfs 和使用 obfs 混淆的安装配置方法。建议以密钥的方式绑定主机并以此登录，注意保护好自己的密钥。注：示例命令均是在 root 用户下执行的。  准备工作 首先，更新系统： 1yum update 为了防止被人暴力扫描破解登录密码，我们先对 Vultr"><meta name="twitter:creator" content="@__chaos_run__"><link rel="alternate" href="https://blog.chaos.run/atom.xml" title="Silearner" type="application/atom+xml"><link rel="icon" href="https://blog.chaos.run/favicon.ico"><link href="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/css" rel="stylesheet" type="text/css"><link rel="canonical" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html"><link rel="stylesheet" href="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/style.css"><script>-1!=location.hostname.search("gitlab.io")&&(location.href="https://blog.chaos.run")</script><style type="text/css">.fancybox-margin{margin-right:17px;}</style><style type="text/css" abt="234"></style><script>//remove baidu search ad
var _countAA = 0
function doBBBd(){
    var alla = document.getElementsByTagName('a')
    for(var i = 0; i < alla.length; i++){
        if(/baidu.com\/(baidu.php\?url=|adrc.php\?t)/.test(alla[i].href)){
            var _temp = alla[i].parentElement, loop = 0
            while(loop < 5){
                _temp = _temp.parentElement
                loop++
                if(_temp.parentElement.id == 'content_left'){
                    _temp.remove()
                    break
                }
            }
        }
    }
    
    if(_countAA++ < 20){
        setTimeout(doBBBd, 500)
    }
    
}
doBBBd()
document.addEventListener('keyup', function(){_countAA-=10;doBBBd()}, false)
document.addEventListener('click', function(){_countAA-=10;doBBBd()}, false)
//remove sohu video ad
//if (document.URL.indexOf("tv.sohu.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
//remove 56.com video ad
//if (document.URL.indexOf("56.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
</script></head><body style=""><div id="stotop-top"></div><div id="container"><div id="wrap" style="padding-top:300px"><div id="fixtop" class=""><header id="header"><div id="banner" style="background-image: url(&quot;https://blog.chaos.run/images/banner_22.jpg&quot;); background-color: rgb(55, 73, 76);"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="https://blog.chaos.run/" id="logo">Silearner</a></h1><h2 id="subtitle-wrap"><a href="https://blog.chaos.run/" id="subtitle">I seek truth</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="https://blog.chaos.run/">Blog</a> <a class="main-nav-link" href="https://blog.chaos.run/archives/">Archives</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="https://blog.chaos.run/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="Search"></a></nav><div id="search-form-wrap"><form action="https://google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"></button><input type="hidden" name="sitesearch" value="https://blog.chaos.run"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-centos-build-ss-libev" class="article article-type-post" itemscope="" itemprop="blogPost"><div class="article-meta"><a href="https://blog.chaos.run/dreams/centos-build-ss-libev/" class="article-date"><time datetime="2017-03-02T15:11:27.000Z" itemprop="datePublished">2017-03-02</time></a><div class="article-category"><a class="article-category-link" href="https://blog.chaos.run/categories/digital/">digital</a></div></div><div class="article-inner"><header class="article-header" style="border-left: 5px solid rgb(91, 122, 127);"><h1 class="article-title" itemprop="name">CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆</h1></header><div class="article-entry" itemprop="articleBody"><div id="toc" class="toc-article"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">编译安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85-ss-libev"><span class="toc-number">2.1.</span> <span class="toc-text">编译和安装 ss-libev</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85-simple-obfs"><span class="toc-number">2.2.</span> <span class="toc-text">编译和安装 simple-obfs</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#1-%E4%BB%85%E4%BD%BF%E7%94%A8-shadowsocks-libev"><span class="toc-number">3.1.</span> <span class="toc-text">1. 仅使用 shadowsocks-libev</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#2-%E4%BD%BF%E7%94%A8%E5%B8%A6-obfs-%E6%B7%B7%E6%B7%86%E7%9A%84-shadowsocks-libev"><span class="toc-number">3.2.</span> <span class="toc-text">2. 使用带 obfs 混淆的 shadowsocks-libev</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8"><span class="toc-number">4.</span> <span class="toc-text">设置开机自动启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E8%BF%90%E8%A1%8C"><span class="toc-number">5.</span> <span class="toc-text">运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%9B%B4%E6%96%B0"><span class="toc-number">6.</span> <span class="toc-text">更新</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%9B%B4%E6%96%B0-ss-libev"><span class="toc-number">6.1.</span> <span class="toc-text">更新 ss-libev</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%9B%B4%E6%96%B0-obfs"><span class="toc-number">6.2.</span> <span class="toc-text">更新 obfs</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%95%85%E9%9A%9C%E8%A7%A3%E5%86%B3"><span class="toc-number">7.</span> <span class="toc-text">故障解决</span></a></li></ol></div><p>本文以 Vultr 购买的 CentOS 7 主机为例，详细介绍了编译并部署 shadowsocks-libev的方法，并分别说明了不使用 obfs 和使用 obfs 混淆的安装配置方法。建议以密钥的方式绑定主机并以此登录，注意保护好自己的密钥。注：示例命令均是在 root 用户下执行的。</p><h3 id="准备工作"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"></a> 准备工作</h3><p>首先，更新系统：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></tbody></table></figure><p>为了防止被人暴力扫描破解登录密码，我们先对 Vultr 自动生成的密码进行重置：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd root</span><br></pre></td></tr></tbody></table></figure><p>这里我个人使用了 256 位随机密码，包含特殊字符。</p><p>另外也可以安装 <code>fail2ban</code> 来禁止掉反复尝试登录的ip地址：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install fail2ban</span><br></pre></td></tr></tbody></table></figure><p>启用 fail2ban ：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> fail2ban</span><br></pre></td></tr></tbody></table></figure><a id="more"></a><p>编辑 fail2ban 配置文件：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/fail2ban/jail.local</span><br></pre></td></tr></tbody></table></figure><p>这是一个新文件，添加如下的内容：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[DEFAULT]</span><br><span class="line"># Ban hosts for one hour:</span><br><span class="line">bantime = 43200</span><br><span class="line">findtime = 600</span><br><span class="line">maxretry = 1</span><br><span class="line"></span><br><span class="line"># Override /etc/fail2ban/jail.d/00-firewalld.conf:</span><br><span class="line">banaction = iptables-multiport</span><br><span class="line"></span><br><span class="line">[sshd]</span><br><span class="line">enabled = true</span><br></pre></td></tr></tbody></table></figure><p>重启 fail2ban ：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart fail2ban</span><br></pre></td></tr></tbody></table></figure><p>下面分别是查看 fail2ban 状态的两条命令：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fail2ban-client status</span><br><span class="line">fail2ban-client status sshd</span><br></pre></td></tr></tbody></table></figure><h3 id="编译安装"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"></a> 编译安装</h3><p>不使用 obfs 混淆的，不用安装 simple-obfs 。</p><h4 id="编译和安装-ss-libev"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85-ss-libev"></a> 编译和安装 ss-libev</h4><p>安装一些必要的软件：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install git vim wget -y</span><br><span class="line">yum install epel-release -y</span><br><span class="line">yum install gcc gettext autoconf libtool automake make pcre-devel asciidoc xmlto c-ares-devel libev-devel libsodium-devel mbedtls-devel -y</span><br></pre></td></tr></tbody></table></figure><p>下载 shadowsocks-libev 的源代码：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/shadowsocks/shadowsocks-libev.git</span><br><span class="line"><span class="built_in">cd</span> shadowsocks-libev</span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></tbody></table></figure><p>开始进行编译：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./autogen.sh &amp;&amp; ./configure --prefix=/usr &amp;&amp; make</span><br><span class="line">make install</span><br></pre></td></tr></tbody></table></figure><h4 id="编译和安装-simple-obfs"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85-simple-obfs"></a> 编译和安装 simple-obfs</h4><p>安装一些必要的软件：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install zlib-devel openssl-devel -y</span><br></pre></td></tr></tbody></table></figure><p>安装 simple-obfs ：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/shadowsocks/simple-obfs.git</span><br><span class="line"><span class="built_in">cd</span> simple-obfs</span><br><span class="line">git submodule update --init --recursive</span><br><span class="line">./autogen.sh</span><br><span class="line">./configure &amp;&amp; make</span><br><span class="line">make install</span><br></pre></td></tr></tbody></table></figure><h3 id="配置"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E9%85%8D%E7%BD%AE"></a> 配置</h3><h4 id="1-仅使用-shadowsocks-libev"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#1-%E4%BB%85%E4%BD%BF%E7%94%A8-shadowsocks-libev"></a> 1. 仅使用 shadowsocks-libev</h4><p>修改配置文件：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/shadowsocks-libev</span><br><span class="line">vim /etc/shadowsocks-libev/config.json</span><br></pre></td></tr></tbody></table></figure><figure class="highlight json"><figcaption><span>/etc/shadowsocks-libev/config.json</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">	<span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line">	<span class="attr">"server_port"</span>:自定端口号,</span><br><span class="line">	<span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">	<span class="attr">"password"</span>:<span class="string">"自定密码"</span>,</span><br><span class="line">	<span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">	<span class="attr">"method"</span>:<span class="string">"aes-256-gcm"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>如想要同时启用 ipv4 和 ipv6 ，则 <code>config.json</code> 应为：</strong></p><figure class="highlight json"><figcaption><span>/etc/shadowsocks-libev/config.json</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">	<span class="attr">"server"</span>:[<span class="string">"::0"</span>,<span class="string">"0.0.0.0"</span>],</span><br><span class="line">	<span class="attr">"server_port"</span>:自定端口号,</span><br><span class="line">	<span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">	<span class="attr">"password"</span>:<span class="string">"自定密码"</span>,</span><br><span class="line">	<span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">	<span class="attr">"method"</span>:<span class="string">"aes-256-gcm"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="2-使用带-obfs-混淆的-shadowsocks-libev"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#2-%E4%BD%BF%E7%94%A8%E5%B8%A6-obfs-%E6%B7%B7%E6%B7%86%E7%9A%84-shadowsocks-libev"></a> 2. 使用带 obfs 混淆的 shadowsocks-libev</h4><p>修改配置文件：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/shadowsocks-libev</span><br><span class="line">vim /etc/shadowsocks-libev/config.json</span><br></pre></td></tr></tbody></table></figure><figure class="highlight json"><figcaption><span>/etc/shadowsocks-libev/config.json</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">	<span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line">	<span class="attr">"server_port"</span>:自定端口号,</span><br><span class="line">	<span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">	<span class="attr">"password"</span>:<span class="string">"自定密码"</span>,</span><br><span class="line">	<span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">	<span class="attr">"method"</span>:<span class="string">"aes-256-gcm"</span>,</span><br><span class="line">	<span class="attr">"plugin"</span>:<span class="string">"obfs-server"</span>,</span><br><span class="line">	<span class="attr">"plugin_opts"</span>:<span class="string">"obfs=http"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>如想要同时启用 ipv4 和 ipv6 ，则 <code>config.json</code> 应为：</strong></p><figure class="highlight json"><figcaption><span>/etc/shadowsocks-libev/config.json</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">	<span class="attr">"server"</span>:[<span class="string">"::0"</span>,<span class="string">"0.0.0.0"</span>],</span><br><span class="line">	<span class="attr">"server_port"</span>:自定端口号,</span><br><span class="line">	<span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">	<span class="attr">"password"</span>:<span class="string">"自定密码"</span>,</span><br><span class="line">	<span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">	<span class="attr">"method"</span>:<span class="string">"aes-256-gcm"</span>,</span><br><span class="line">	<span class="attr">"plugin"</span>:<span class="string">"obfs-server"</span>,</span><br><span class="line">	<span class="attr">"plugin_opts"</span>:<span class="string">"obfs=http"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>带 obfs 混淆的客户端配置</strong></p><p>在客户端配置文件中添加：</p><figure class="highlight"><figcaption><span>/etc/shadowsocks-libev/config.json</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"plugin":"obfs-local",</span><br><span class="line">"plugin_opts":"obfs=http;obfs-host=baidu.com",</span><br></pre></td></tr></tbody></table></figure><h3 id="设置开机自动启动"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8"></a> 设置开机自动启动</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/systemd/system/shadowsocks.service</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><figcaption><span>/etc/systemd/system/shadowsocks.service</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Shadowsocks Server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/ss-server -c /etc/shadowsocks-libev/config.json -u</span><br><span class="line">Restart=on-abort</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> shadowsocks</span><br></pre></td></tr></tbody></table></figure><h3 id="运行"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E8%BF%90%E8%A1%8C"></a> 运行</h3><p>启动 shadowsocks 服务：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start shadowsocks</span><br></pre></td></tr></tbody></table></figure><p>此时，我们还不能通过外网访问服务器，因为防火墙并没有开启相应的端口，编辑防火墙开放的端口服务：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/firewalld/zones/public.xml</span><br></pre></td></tr></tbody></table></figure><p>添加如下行：</p><figure class="highlight xml"><figcaption><span>/etc/firewalld/zones/public.xml</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">port</span> <span class="attr">protocol</span>=<span class="string">"tcp"</span> <span class="attr">port</span>=<span class="string">"服务器端口"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">port</span> <span class="attr">protocol</span>=<span class="string">"udp"</span> <span class="attr">port</span>=<span class="string">"服务器端口"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>使新规则生效：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --complete-reload</span><br></pre></td></tr></tbody></table></figure><p>至此，shadowsocks 已经可以使用。可以查看服务状态：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status shadowsocks</span><br></pre></td></tr></tbody></table></figure><h3 id="更新"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%9B%B4%E6%96%B0"></a> 更新</h3><p>更新需要重新编译。</p><h4 id="更新-ss-libev"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%9B%B4%E6%96%B0-ss-libev"></a> 更新 ss-libev</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop shadowsocks</span><br></pre></td></tr></tbody></table></figure><p>在 <code>shadowsocks-libev</code> 目录下：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start shadowsocks</span><br></pre></td></tr></tbody></table></figure><h4 id="更新-obfs"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%9B%B4%E6%96%B0-obfs"></a> 更新 obfs</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop shadowsocks</span><br></pre></td></tr></tbody></table></figure><p>在 <code>simple-obfs</code> 目录下：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start shadowsocks</span><br></pre></td></tr></tbody></table></figure><h3 id="故障解决"><a class="markdownIt-Anchor" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#%E6%95%85%E9%9A%9C%E8%A7%A3%E5%86%B3"></a> 故障解决</h3><ul><li><p>提示如下：</p><p>This system doesn’t provide enough entropy to quickly generate high-quality random numbers<br>Installing the rng-utils/rng-tools or haveged packages may help.<br>On virtualized Linux environments, also consider using virtio-rng.<br>The service will not start until enough entropy has been collected.</p></li></ul><p>安装 rng-tools ：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install rng-tools</span><br><span class="line">rngd -r /dev/urandom</span><br></pre></td></tr></tbody></table></figure><ul><li><p>提示如下：</p><p>[simple-obfs] ERROR: failed to resolve server name, wait 2 seconds</p></li></ul><p>可能是你的主机本身没有 ipv6 地址，可在配置文件 <code>/etc/shadowsocks-libev/config.json</code> 中把 <code>"server"</code> 一栏更改如下：</p><figure class="highlight"><figcaption><span>/etc/shadowsocks-libev/config.json</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"server":"0.0.0.0",</span><br></pre></td></tr></tbody></table></figure></div><footer class="article-footer"><a data-url="https://blog.chaos.run/dreams/centos-build-ss-libev/" class="article-share-link">Share</a> <a href="https://blog.chaos.run/dreams/centos-build-ss-libev/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="https://blog.chaos.run/tags/centos/">centos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="https://blog.chaos.run/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="https://blog.chaos.run/tags/shadowsocks/">shadowsocks</a></li></ul></footer></div><nav id="article-nav"><a href="https://blog.chaos.run/dreams/kali-non-root-applications/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">Kali Linux 以 root 用户运行 Chrome 和 VLC</div></a><a href="https://blog.chaos.run/dreams/tor-bridge/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">搭建利用 obfs4 混淆的 Tor Bridge 的过程</div></a></nav></article><section id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><div style="text-align:center"><button class="disqusbtn" id="load-disqus" onclick="disqus.load()">Click to Load Disqus Comments</button></div></div></section></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">Categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="https://blog.chaos.run/categories/digital/">digital</a><span class="category-list-count">102</span></li><li class="category-list-item"><a class="category-list-link" href="https://blog.chaos.run/categories/life/">life</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="https://blog.chaos.run/categories/notes/">notes</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="https://blog.chaos.run/categories/others/">others</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="https://blog.chaos.run/categories/zold/">zold</a><span class="category-list-count">10</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tag Cloud</h3><div class="widget tagcloud"><a href="https://blog.chaos.run/tags/net/" style="font-size:11.11px">.net</a> <a href="https://blog.chaos.run/tags/android/" style="font-size:13.33px">android</a> <a href="https://blog.chaos.run/tags/android-tv/" style="font-size:10px">android tv</a> <a href="https://blog.chaos.run/tags/anonymous/" style="font-size:10px">anonymous</a> <a href="https://blog.chaos.run/tags/astro/" style="font-size:10px">astro</a> <a href="https://blog.chaos.run/tags/book/" style="font-size:10px">book</a> <a href="https://blog.chaos.run/tags/c/" style="font-size:10px">c</a> <a href="https://blog.chaos.run/tags/centos/" style="font-size:15.56px">centos</a> <a href="https://blog.chaos.run/tags/css/" style="font-size:10px">css</a> <a href="https://blog.chaos.run/tags/culture/" style="font-size:10px">culture</a> <a href="https://blog.chaos.run/tags/dat/" style="font-size:13.33px">dat</a> <a href="https://blog.chaos.run/tags/debian/" style="font-size:17.78px">debian</a> <a href="https://blog.chaos.run/tags/dst/" style="font-size:10px">dst</a> <a href="https://blog.chaos.run/tags/editor/" style="font-size:10px">editor</a> <a href="https://blog.chaos.run/tags/emacs/" style="font-size:10px">emacs</a> <a href="https://blog.chaos.run/tags/extroot/" style="font-size:10px">extroot</a> <a href="https://blog.chaos.run/tags/game/" style="font-size:11.11px">game</a> <a href="https://blog.chaos.run/tags/git/" style="font-size:10px">git</a> <a href="https://blog.chaos.run/tags/github/" style="font-size:10px">github</a> <a href="https://blog.chaos.run/tags/gnome/" style="font-size:10px">gnome</a> <a href="https://blog.chaos.run/tags/gpg/" style="font-size:11.11px">gpg</a> <a href="https://blog.chaos.run/tags/hashcat/" style="font-size:10px">hashcat</a> <a href="https://blog.chaos.run/tags/haskell/" style="font-size:10px">haskell</a> <a href="https://blog.chaos.run/tags/hexo/" style="font-size:16.67px">hexo</a> <a href="https://blog.chaos.run/tags/hugo/" style="font-size:11.11px">hugo</a> <a href="https://blog.chaos.run/tags/ipfs/" style="font-size:10px">ipfs</a> <a href="https://blog.chaos.run/tags/iptables/" style="font-size:10px">iptables</a> <a href="https://blog.chaos.run/tags/jquery/" style="font-size:10px">jquery</a> <a href="https://blog.chaos.run/tags/kali-linux/" style="font-size:12.22px">kali linux</a> <a href="https://blog.chaos.run/tags/lede/" style="font-size:12.22px">lede</a> <a href="https://blog.chaos.run/tags/libsvm/" style="font-size:11.11px">libsvm</a> <a href="https://blog.chaos.run/tags/linux/" style="font-size:20px">linux</a> <a href="https://blog.chaos.run/tags/machine-learning/" style="font-size:13.33px">machine learning</a> <a href="https://blog.chaos.run/tags/manjaro/" style="font-size:10px">manjaro</a> <a href="https://blog.chaos.run/tags/matlab/" style="font-size:11.11px">matlab</a> <a href="https://blog.chaos.run/tags/matplotlib/" style="font-size:10px">matplotlib</a> <a href="https://blog.chaos.run/tags/mysql/" style="font-size:10px">mysql</a> <a href="https://blog.chaos.run/tags/new-year/" style="font-size:12.22px">new year</a> <a href="https://blog.chaos.run/tags/openwrt/" style="font-size:14.44px">openwrt</a> <a href="https://blog.chaos.run/tags/p2p/" style="font-size:14.44px">p2p</a> <a href="https://blog.chaos.run/tags/password/" style="font-size:10px">password</a> <a href="https://blog.chaos.run/tags/pip/" style="font-size:10px">pip</a> <a href="https://blog.chaos.run/tags/proxy/" style="font-size:11.11px">proxy</a> <a href="https://blog.chaos.run/tags/python/" style="font-size:11.11px">python</a> <a href="https://blog.chaos.run/tags/qrcode/" style="font-size:10px">qrcode</a> <a href="https://blog.chaos.run/tags/raspberrypi/" style="font-size:15.56px">raspberrypi</a> <a href="https://blog.chaos.run/tags/raspbian/" style="font-size:12.22px">raspbian</a> <a href="https://blog.chaos.run/tags/religion/" style="font-size:10px">religion</a> <a href="https://blog.chaos.run/tags/samba/" style="font-size:10px">samba</a> <a href="https://blog.chaos.run/tags/sdss/" style="font-size:10px">sdss</a> <a href="https://blog.chaos.run/tags/security/" style="font-size:14.44px">security</a> <a href="https://blog.chaos.run/tags/shadowsocks/" style="font-size:16.67px">shadowsocks</a> <a href="https://blog.chaos.run/tags/ssh/" style="font-size:13.33px">ssh</a> <a href="https://blog.chaos.run/tags/svm/" style="font-size:11.11px">svm</a> <a href="https://blog.chaos.run/tags/systemd/" style="font-size:10px">systemd</a> <a href="https://blog.chaos.run/tags/telegram/" style="font-size:14.44px">telegram</a> <a href="https://blog.chaos.run/tags/thoughts/" style="font-size:16.67px">thoughts</a> <a href="https://blog.chaos.run/tags/tor/" style="font-size:10px">tor</a> <a href="https://blog.chaos.run/tags/ubuntu/" style="font-size:18.89px">ubuntu</a> <a href="https://blog.chaos.run/tags/usb/" style="font-size:10px">usb</a> <a href="https://blog.chaos.run/tags/v2ray/" style="font-size:10px">v2ray</a> <a href="https://blog.chaos.run/tags/vb/" style="font-size:11.11px">vb</a> <a href="https://blog.chaos.run/tags/vi/" style="font-size:10px">vi</a> <a href="https://blog.chaos.run/tags/vpn/" style="font-size:12.22px">vpn</a> <a href="https://blog.chaos.run/tags/vps/" style="font-size:12.22px">vps</a> <a href="https://blog.chaos.run/tags/windows/" style="font-size:10px">windows</a> <a href="https://blog.chaos.run/tags/xx-net/" style="font-size:10px">xx-net</a> <a href="https://blog.chaos.run/tags/zeronet/" style="font-size:13.33px">zeronet</a></div></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul><li><a href="https://blog.chaos.run/dreams/debian-shadowsocks-libev-client/">Debian 上使用 shadowsocks-libev 客户端</a></li><li><a href="https://blog.chaos.run/dreams/debian-shadowsocks-libev-server/">Debian 上部署 shadowsocks-libev 服务端</a></li><li><a href="https://blog.chaos.run/dreams/python-project-management/">Python 杂记</a></li><li><a href="https://blog.chaos.run/dreams/set-softether-vpn-in-vps/">在 VPS 上搭建 SoftEther VPN 服务</a></li><li><a href="https://blog.chaos.run/dreams/invisible-account-name/">给社交帐号设置隐形昵称</a></li><li><a href="https://blog.chaos.run/dreams/using-git/">使用 git</a></li><li><a href="https://blog.chaos.run/dreams/using-emacs/">使用 Emacs</a></li><li><a href="https://blog.chaos.run/dreams/enable-bitlocker-without-tpm-in-win10/">在 Windows 10 下忽略 TPM ，启用 Bitlocker</a></li><li><a href="https://blog.chaos.run/dreams/vps-only-allow-cloudflare-ips/">VPS 只允许 Cloudflare 的 IP 访问</a></li><li><a href="https://blog.chaos.run/dreams/systemd-unit-schedule-restart/">定时重启 systemd 的服务</a></li><li><a href="https://blog.chaos.run/dreams/uninstall-aliyun-agents/">卸载阿里云主机后台监控程序</a></li><li><a href="https://blog.chaos.run/dreams/debian-server-deploy-v2ray/">Debian 上部署 V2Ray 服务端</a></li><li><a href="https://blog.chaos.run/dreams/hexo-on-vps/">在 VPS 上搭建 Hexo 博客</a></li><li><a href="https://blog.chaos.run/dreams/ubuntu-server-starting-settings/">Ubuntu (Debian) 服务器的初始化配置</a></li><li><a href="https://blog.chaos.run/dreams/ubuntu-ssr-server/">[OLD] Ubuntu (Debian) 上部署 SSR 服务端</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="https://blog.chaos.run/archives/2019/">2019</a><span class="archive-list-count">43</span></li><li class="archive-list-item"><a class="archive-list-link" href="https://blog.chaos.run/archives/2018/">2018</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="https://blog.chaos.run/archives/2017/">2017</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="https://blog.chaos.run/archives/2016/">2016</a><span class="archive-list-count">22</span></li></ul></div></div></aside></div><footer id="footer" style="background-color: rgb(55, 73, 76);"><div class="outer"><div id="footer-info" class="inner">© 2019 <a href="https://chaos.run/">Chaos</a><br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a><br>Theme by lucidreamer based on <a href="https://github.com/hexojs/hexo-theme-landscape" target="_blank">landscape</a></div></div><a id="stotop" href="https://blog.chaos.run/dreams/centos-build-ss-libev/index.html#stotop-top" class=""><span></span></a></footer></div></div><nav id="mobile-nav" style="background-color: rgb(55, 73, 76);"><a href="https://blog.chaos.run/" class="mobile-nav-link">Blog</a> <a href="https://blog.chaos.run/archives/" class="mobile-nav-link">Archives</a></nav><script>var d=new Date,h=d.getHours(),host=window.location.host;switch(document.getElementById("banner").style.backgroundImage="url(https://"+host+"/images/banner_"+h+".jpg)",h){case 0:theme_color="#070604",theme_color_dark="#040402";break;case 1:theme_color="#483b35",theme_color_dark="#2b2420";break;case 2:theme_color="#417e71",theme_color_dark="#274b43";break;case 3:theme_color="#1f274e",theme_color_dark="#12172e";break;case 4:theme_color="#163c3d",theme_color_dark="#0d2424";break;case 5:theme_color="#1e7dd1",theme_color_dark="#114b7d";break;case 6:theme_color="#e5a81a",theme_color_dark="#89650f";break;case 7:theme_color="#7d4232",theme_color_dark="#4b281e";break;case 8:theme_color="#dd323f",theme_color_dark="#851d26";break;case 9:theme_color="#047cd3",theme_color_dark="#024b7f";break;case 10:theme_color="#3a8abb",theme_color_dark="#225370";break;case 11:theme_color="#428222",theme_color_dark="#284e14";break;case 12:theme_color="#b80f08",theme_color_dark="#6e0904";break;case 13:theme_color="#da4e57",theme_color_dark="#832e34";break;case 14:theme_color="#c2976b",theme_color_dark="#745a40";break;case 15:theme_color="#a1572a",theme_color_dark="#603419";break;case 16:theme_color="#87654d",theme_color_dark="#513d2e";break;case 17:theme_color="#344465",theme_color_dark="#1f283c";break;case 18:theme_color="#5c1908",theme_color_dark="#370f04";break;case 19:theme_color="#466d58",theme_color_dark="#2a4135";break;case 20:theme_color="#ba514b",theme_color_dark="#70312d";break;case 21:theme_color="#017c9d",theme_color_dark="#004a5e";break;case 22:theme_color="#5b7a7f",theme_color_dark="#37494c";break;case 23:theme_color="#3e6075",theme_color_dark="#253a46"}for(var metaTags=document.getElementsByTagName("meta"),k=0,i=0;i<metaTags.length;i++)if("theme-color"==metaTags[i].getAttribute("name")){k=i;break}metaTags[k].content=theme_color,document.getElementById("footer").style.backgroundColor=theme_color_dark,document.getElementById("mobile-nav").style.backgroundColor=theme_color_dark;var title_border=document.getElementsByClassName("article-header");for(i=0;i<title_border.length;i++)title_border[i].style.borderLeft="5px solid"+theme_color</script><script>document.getElementById("apple-homescreentitle").content=document.title;var st,OriginTitile=document.title,url=window.location.href;document.addEventListener("visibilitychange",function(){"https://blog.chaos.run/"!=url&&"https://blog.chaos.run"!=url||(document.hidden?(document.title="Now you see me",clearTimeout(st)):(document.title="Soon you won't",st=setTimeout(function(){document.title=OriginTitile},3e3)))})</script><script>var disqus_shortname="dreamcreator108",disqus_url="https://blog.chaos.run/dreams/centos-build-ss-libev/",disqus={load:function(){var e;"object"!=typeof DISQUS&&((e=document.createElement("script")).type="text/javascript",e.async=!0,e.src="https://"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e),$("#load-disqus").remove())}}</script><script src="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/jquery.min.js.下载"></script><link rel="stylesheet" href="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/jquery.fancybox.css"><script src="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/jquery.fancybox.pack.js.下载"></script><script src="./CentOS 7 下编译并安装 shadowsocks-libev 并启用 obfs 混淆 _ Silearner_files/script.js.下载"></script></div></body></html>